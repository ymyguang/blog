# Linux基础入门


## Linux基础入门

[toc]

------

### 一、基础知识

RPM：将**源代码**和**安装规则**打包在一起，为了安装简便

Yum：将常用的RPM打包在一起，为了解决依赖关系（自动安装依赖），进一步结果安装难度

Linux一切皆文件！

命令：systemctl (init)

- systemctl  restart 服务名称    【重启服务，PID变化
- systemctl reload   服务名称   【 重新加载，PID不变
- systemctl start      服务名称    【启动服务
- systemctl stop       服务名称    【停止服务
- systemctl enable   服务名称    【加入到启动项
- systemctl start       服务名称   【查看服务状态

<img src="img/%E6%96%B0%E5%BB%BA%20RTF%20%E6%96%87%E6%A1%A3/image-20200623185910978.png" alt="image-20200623185910978" style="zoom: 50%;" />

systemd  是服务进程，systemctl 是具体的配置工具！

<!--more-->

### 二、命令知识

SHELL是一个语言对终端进行命令发放，继而终端去控制系统；众所周知，任何东西能够实现理解的前提是：使用通用的的协议，在语言中，也就是：语法！当人和终端都遵循同一种协议时，才能实现沟通。

#### **SHELL语法格式：**

​	**命令名称 【命令参数】【命令对象】**

- **打   【使劲】 【小刚】**
- **亲   【狠狠】 【小红】**

**详细规则：**

1. 之间至少一个空格

2. 参数

   1. -字母    -a -l
   2. --单词 —-all –list  

3. 参数合并规则

   |            | 长格式     | 短格式                                           |
   | ---------- | ---------- | ------------------------------------------------ |
   | **长格式** | 不可以合并 | 不可以合并                                       |
   | **短格式** | 不可以合并 | **可以合并**（只保留一个减号，例如： -a -l -al） |
   |            |            |                                                  |

### 三、常见命令

#### 	系统操作相关命令
- ##### wget 下载网络文件

  | 参数 | 作用                                 |
  | ---- | ------------------------------------ |
  | -b   | 后台下载模式                         |
  | -P   | 下载到指定目录                       |
  | -t   | 最大尝试次数                         |
  | -c   | 断点续传                             |
  | -p   | 下载页面内所有资源，包括图片、视频等 |
  | -r   | 递归下载                             |

- ##### poweroff 关机

- ##### reboot 关机

- ##### date

  - -s “时间”  【修改系统时间】

- ##### pwd 【当前目录】

- ##### ps 【进程信息】

   	1.进程信息：
		
   			1. R  当前运行程序
   			2. S  等待服务
   			3. D 不能中断
   			4. Z  僵死进程
   			5. T  停止程序

  ​     2.参数 【-x】【-u】【-a】

- top 系统开机时间 终端数量 负载情况

  ![image-20200623215945795](img/%E6%96%B0%E5%BB%BA%20RTF%20%E6%96%87%E6%A1%A3/image-20200623215945795.png)

  第一行：系统时间  运行时间 终端数量 系统负载（越小越好）系统负载栏：1分钟 5分钟 15分钟

  第二行：进程总数 运行中的进程总数 睡眠中的进程数 停止的进程数 僵死的进程数

  第三行：已经使用【us】 空闲【id】、

  第四行：内存大小 使用空间 空闲空间

  第五行：虚拟内存总量 虚拟内存使用量 虚拟内存空闲 已被提前加载的内存量

- Kill 【PID】 结束服务

- killall 【服务名称】 结束服务（二者区别：一个是服务号，一个是服务名）

- history 【查询命令历史】

  - -c  清楚历史；
  - !命令编号  等同于执行编号对应的命令

- sosreport 搜集系统信息

#### 查看文件相关命令

- cd  目录相关

  - ~ 返回家目录
  - \- 返回上一次位置
  - .. 返回上一次目录

- ls 列举文件

  - 注意:带点的都是系统隐藏文件
  - -l 详情信息
  - -a 所有信息

-  查看文件信息

  - cat 查看较小文件
  - more 查看较大文件
  - head -n N 查看前N行文件
  - tail 动态刷新文件
    - -f 动态追加
    - 例子：查看日志实时更新
  - stat :文件属性信息
    - ![image-20200624084726598](img/%E6%96%B0%E5%BB%BA%20RTF%20%E6%96%87%E6%A1%A3/image-20200624084726598.png)

  

![image-20200624084808560](img/%E6%96%B0%E5%BB%BA%20RTF%20%E6%96%87%E6%A1%A3/image-20200624084808560.png)

​			access：查看时间  		modify：改动时间			 change：改动时间

- tr 转换字符 
  - tr [原始格式] 【目标格式】
- cut 提取列字符
  - -d [分隔符] -f[列数]  文件名称【或文件地址】
  - 说明：【分隔符】指的是要提取文件内的分隔符，而不是自定义，cut会按照自定义的分隔符自动划分列
- diff 比较文件差异
  - \-c  上下文模式
  - \-u 合并模式

#### 文件操作相关命令

- touch 文件名称  【创建文件】

  - 可以修改时间  参数：\- d

- mkdir 【选项】目录   创建目录

  - -p 嵌套创建
    - 例子：mkdir -p a\b\c\d\e\f\g

- cp 【源文件】【 目标文件】

  | -p   | 保留原始文件的属性                           |
  | ---- | -------------------------------------------- |
  | -d   | 若对象为“链接文件”，则保留该“链接文件”的属性 |
  | -r   | 递归持续复制（用于目录）                     |
  | -i   | 若目标文件存在则询问是否覆盖                 |
  | -a   | 相当于-pdr（p、d、r为上述参数）              |
  
- mv 剪切/重命名

- dd 自定义复制

  - if input file  输入文件
  - of output file 输出文件
  - bs 数据块大小
  - count 复制次数

- file ：查看文件类型

#### 打包压缩&&搜索

- tar 

  | 参数 | 作用                             |
  | ---- | -------------------------------- |
  | -c   | 创建压缩文件                     |
  | -z   | 使用Gzip压缩或解压   【.tar.gz】 |
  | -j   | 使用bzip2压缩或解压 【.tar.bz2】 |
  | -v   | 显示过程                         |
  | -C   | 指定解压到的目录                 |
  | -x   | 解压压缩文件                     |
  | -f   | 设置名称                         |

  例子：压缩：tar -czvf backup.tar.gz ./     【将当前目录进行gzip压缩，且名字为：backup.tar.gz

  ​			解压： tar -xzvf  filename

- grep 查找文件指定 内容

  | 参数 | 作用                         |
  | ---- | ---------------------------- |
  | -i   | 忽略大小写                   |
  | -v   | 反向选择——列出没有关键词的行 |
  | -n   | 显示行号                     |
  | -c   | 仅显示找到的行数             |

- find 搜索

  ​	/proc 目录查找文件出错

  | 参数  | 作用         |
  | ----- | ------------ |
  | -name | 匹配名称     |
  | -user | 所属用户文件 |

### 四、命令结合

#### 重定向符号

- 输出重定向
- 输入重定向

​	

五、存储结构&&磁盘划分

-  \bin 存放可执行文件
- \home 家目录
- \etc 系统配置文件和服务配置文件
- \boot 系统启动引导文件
- \lib 存放函数以及库文件
- \tmp 存放临时文件



### 文件权限

- 读[r]
- 写[w]
- 执行[x] execxte

命令：ll 

d rwx rwx rwx

- d -> 目录  文件类型
- 第一组：文件的所属用户
- 第二组：文件的所属组
- 第三组：其他用户



Linux同Windows一样，都有自己的文件结构，每个文件夹内都存有一类的内容

就像Windows中的Users文件存档是的用户的数据，windows文件内存储的是系统文件，program文件夹内存放的是安装的软件的文件，等等。类似有着的Linux同样的层级关系

- `boot`存放系统启动的相关文件

- bin：存放二进制可执行文件
- etc：存放系统配置文件
- home：存放用户文件
- root：超级用户目录
- opt：额外安装包
- usr：系统应用程序usr/local
- tmp：临时文件

