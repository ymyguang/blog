---
title: "什么是SSH"
date: 2020-02-24T15:03:16+08:00
draft: false
tags: ["SSH","network","basic"]
categories: ["network","Ops"]
---





## SSH原理（非对称加密）

1. #### 什么是SSH？

​	SSH是一种协议标准，通常用于主机之间的加密通讯，SSH之前，互联网通讯传输的数据是以明文传输的。

2. #### 加密

**对称加密**（私钥加密）

- 加密使用同一种密钥，此加密方式，在传输过程中能保证信息很难被破破解，但是有一个致命的确定：很难保证密钥不被泄露。原因是：把自己的密钥放在很多服务器上，一点其中的服务器被攻破，那么与其他的服务器通讯时，采用同一种密钥，此时，信息将被泄露。此时产生了：非对称加密；

- **通讯过程**

  本地通过密钥加密，发送至服务端

  服务端的到信息后，按照同样的密钥解密

- ![img](https://mmbiz.qpic.cn/mmbiz_png/9hC98DMUibTUNUul0KenWlLmOy1Lqp7mQB1utOiblsyy5D8v7CynunsvcgmWkzncCj3EqQFLj4sV27YYZuUDaR9w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)





### **非对称加密（公钥加密）**：

##### **公钥加密，私钥解密。私钥解密，公钥解密**，也称公开密钥加密

> 如果你问我，哪一种[算法](http://zh.wikipedia.org/wiki/算法)最重要？
>
> 我可能会回答["公钥加密算法"](http://zh.wikipedia.org/wiki/公钥密码学)。
>
> 来自:[阮一峰](http://www.ruanyifeng.com/)的网络日志

- 此加密方式产生两个密钥，一个是公钥，一个私钥。两者关系：公钥加密后的密文，只能通过对应的私钥进行解密。

#### 验证方式

为了防止中间人攻击：攻击者将自己的公共密钥发给客户端，客户端通过此公钥加密后的信息，将被攻击者的私钥解密，如此一来就会导致信息的泄露。所以采取一下验证方式。

##### 1.密码验证

- **通讯过程：**

  1.本地段发送数据请求，服务端收到后，将该服务器的公钥发送给服务器

  2.本地端收到该密钥后，账号和密码进行加密，加密完成后，发送给服务端

  3.服务端收到客户端通过公共密钥的信息，通过在本地于该公共密钥对应的私钥，进行解密，账号密码后，与服务器内的值核对校验

  4.当身份验证成功后，将数据返回到客户端

- ![](https://mmbiz.qpic.cn/mmbiz_png/9hC98DMUibTUNUul0KenWlLmOy1Lqp7mQvdmhS7icLZfH1xIKS7UKcjuIyl8Bt9wyVNWyCmnibdM79p3PxBBTOozg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

但是弊端是，攻击者可能会采取暴力破解的方式，对密码进行猜解，相对密钥验证方式，被破解的概率较大，原因是，通常情况下，密码的程度达不到密钥的复杂程度。

##### 2.密钥验证

1. **该验证方式首先要求，客户端将本地的公共密钥放在远端**
2. 当服务器收到客户端的请求时，服务端会生成一个随机数并匹配该用户上传的公钥，对该随机数R加3密。加密之后发送加密数据到客户端
3. 客户端收到加密信息后，通过自己的私钥，进行解密，得到随机数R，并且将R与会话密钥通过MD5生成摘要，再次发送至服务端
4. 服务端收到该MD5后，也会对自己产生的R和会话密钥生成MD5摘要，继而匹配两个MD5
5. MD5相同时，建立起此次通讯

#### RSA算法：非对称加密算法的一种

**1.什么是RSA加密**

RSA是一种非对称加密的加密方式，加密得到的结果1024位，或者是2048位。

在保证加密的安全性的同时，也导致加密过程相对较慢，不适用于多信息的加密过程。

为啥子叫：RSA，闪开，大佬来袭：

![img](http://www.ruanyifeng.com/blogimg/asset/201306/bg2013062702.jpg)

### 

因为RSA是由：三位数学家Rivest、Shamir 和 Adleman 设计了一种算法，因此叫做；RAS！

毫不夸张的说，由计算机的地方就有RAS加密算法。

### 原理

呃。。。。待更吧。。
